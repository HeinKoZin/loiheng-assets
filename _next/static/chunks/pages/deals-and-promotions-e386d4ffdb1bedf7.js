(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4287],{6496:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deals-and-promotions",function(){return i(3901)}])},3901:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSP:function(){return M},default:function(){return U}});var t,s,l=i(5893),a=i(2734),r=i(8396),c=i(7357),o=i(9520),d=i(6886),x=i(6447),h=i(2280),p=i(7036),j=i(8895),u=i(5861),Z=i(2797),g=i(3457),m=i(480),f=i(9368),v=i(7720),w=i(1184),_=i(4054),E=i(3841),S=i(315),P=i(2224),b=i(3946),y=i(859),C=i(5054),I=i(7294),N=i(5675),T=i.n(N),k=i(3508),R=i(4492),L=i(6130),A=i(424),O=i(7032),H=i(10);let z=e=>{let{src:n,width:i,quality:t}=e;return"".concat(n,"?q=").concat(t||75)};(t=s||(s={})).NONE="",t.IS_FEATURE="is_feature_product",t.LOWEST_PRICE="lowest_price",t.HIGHEST_PRICE="highest_price";let D=e=>{let[n,i]=(0,I.useState)(!0),[t,N]=I.useState(s.NONE),[D,G]=I.useState([0,1e3]),[B,F]=I.useState([0,1e3]),[W,M]=(0,I.useState)([]),[U,X]=(0,I.useState)([]),[q,V]=(0,I.useState)(0),[Y,J]=(0,I.useState)(1),[K,Q]=(0,I.useState)([]),{data:$,error:ee,isValidating:en}=(0,O.Z)(U,W,Y,15,t),[ei,et]=I.useState(),es=(0,a.Z)(),el=(0,r.Z)(es.breakpoints.down("sm")),ea=e=>{let{value:n,checked:i}=e.target;i?M([...W,n]):M(W.filter(e=>e!==n))},er=e=>{let{value:n,checked:i}=e.target;i?X([...U,n]):X(U.filter(e=>e!==n))},ec=e=>{void 0!==e.target.value&&N(e.target.value)},eo=(e,n)=>{G(n)},ed=(e,n)=>{J(n)},ex=()=>{i(!0)},eh=()=>{i(!1)};return I.useEffect(()=>{if($){let n=Math.min(...$.data.products.map(e=>e.price)),i=Math.max(...$.data.products.map(e=>e.price));et($.data),F([n,i]),G([n,i]),V($.data.pagination.last_page),J($.data.pagination.current_page)}if(e.categories){let t=e.categories.data.categories.map(e=>e.sub_category).flat();Q(t)}},[$,et,e]),(0,l.jsx)(c.Z,{sx:{py:2},children:(0,l.jsx)(o.Z,{maxWidth:"lg",children:(0,l.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(d.ZP,{item:!0,xs:12,lg:3,children:(0,l.jsxs)(x.Z,{spacing:2,children:[(0,l.jsx)(c.Z,{children:(0,l.jsxs)(h.Z,{elevation:0,defaultExpanded:!0,sx:{border:"1px solid ".concat(p.Z[300]),p:0},children:[(0,l.jsx)(j.Z,{expandIcon:(0,l.jsx)(k.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,l.jsx)(u.Z,{children:"CATEGORIES"})}),(0,l.jsx)(Z.Z,{sx:{p:0,pl:1},children:(0,l.jsx)(c.Z,{sx:{height:"220px",position:"relative",overflow:"scroll"},children:K.map(e=>(0,l.jsx)(g.Z,{children:(0,l.jsx)(m.Z,{control:(0,l.jsx)(f.Z,{value:e.id,onChange:e=>er(e)}),label:e.name})},e.id))})})]})}),(0,l.jsx)(c.Z,{children:(0,l.jsxs)(h.Z,{elevation:0,defaultExpanded:!0,sx:{border:"1px solid ".concat(p.Z[300])},children:[(0,l.jsx)(j.Z,{expandIcon:(0,l.jsx)(k.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,l.jsx)(u.Z,{children:"BRANDS"})}),(0,l.jsx)(Z.Z,{sx:{p:0,pl:1},children:(0,l.jsx)(c.Z,{sx:{height:"220px",position:"relative",overflow:"scroll"},children:e.brands.data.brands.map(e=>(0,l.jsx)(g.Z,{children:(0,l.jsx)(m.Z,{control:(0,l.jsx)(f.Z,{value:e.id,onChange:e=>ea(e)}),label:e.name})},e.id))})})]})}),(0,l.jsxs)(c.Z,{sx:{border:"1px solid ".concat(p.Z[300])},children:[(0,l.jsx)(u.Z,{sx:{p:2},children:"PRICE RANGE"}),(0,l.jsx)(v.Z,{}),(0,l.jsx)(c.Z,{sx:{p:2},children:(0,l.jsx)(w.ZP,{getAriaLabel:()=>"Price Range",value:D,step:100,min:B[0],max:B[1],valueLabelDisplay:"auto",onChange:eo})})]})]})}),(0,l.jsxs)(d.ZP,{item:!0,xs:12,lg:9,children:[(0,l.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(u.Z,{variant:"h6",children:"Product Lists"})}),(0,l.jsxs)(c.Z,{sx:{display:"flex",gap:2},children:[(0,l.jsxs)(x.Z,{direction:"row",alignItems:"center",children:[(0,l.jsx)(u.Z,{children:"Sort By: "}),(0,l.jsxs)(_.Z,{sx:{m:1,minWidth:120},size:"small",children:[(0,l.jsx)(E.Z,{id:"demo-select-small",children:"Type"}),(0,l.jsxs)(S.Z,{labelId:"demo-select-small",id:"demo-select-small",value:t,label:"Type",onChange:ec,children:[(0,l.jsx)(P.Z,{value:s.NONE,children:(0,l.jsx)("em",{children:"None"})}),(0,l.jsx)(P.Z,{value:s.IS_FEATURE,children:"Feature Product"}),(0,l.jsx)(P.Z,{value:s.LOWEST_PRICE,children:"Lowest Price"}),(0,l.jsx)(P.Z,{value:s.HIGHEST_PRICE,children:"Highest Price"})]})]})]}),(0,l.jsxs)(x.Z,{direction:"row",alignItems:"center",children:[(0,l.jsx)(u.Z,{children:"View: "}),(0,l.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,l.jsx)(b.Z,{onClick:ex,children:(0,l.jsx)(R.Z,{fontSize:"small",sx:{color:!0==n?y.Z[500]:""}})}),(0,l.jsx)(b.Z,{onClick:eh,children:(0,l.jsx)(L.Z,{fontSize:"small",sx:{color:!0==n?"":y.Z[500]}})})]})]})]})]}),(0,l.jsx)(c.Z,{sx:{display:!0==n?"block":"none"},children:(0,l.jsx)(d.ZP,{container:!0,spacing:1,children:ei?ei.products.length<=0?(0,l.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",flexDirection:"column"},children:[(0,l.jsx)(c.Z,{sx:{position:"relative",width:"300px",height:"300px"},children:(0,l.jsx)(T(),{src:"/no-prod.gif",alt:"Shipping Gif",loader:z,fill:!0,sizes:"(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"})}),(0,l.jsx)(u.Z,{children:"No product found!"})]}):ei.products.map((e,n)=>(0,l.jsx)(d.ZP,{item:!0,xs:12,md:3,children:(0,l.jsx)(A.Z,{data:e})},n)):""})}),(0,l.jsx)(c.Z,{sx:{display:!1==n?"block":"none"},children:ei?ei.products.length<=0?(0,l.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",flexDirection:"column"},children:[(0,l.jsx)(c.Z,{sx:{position:"relative",width:"300px",height:"300px"},children:(0,l.jsx)(T(),{src:"/no-prod.gif",alt:"Shipping Gif",loader:z,fill:!0,sizes:"(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"})}),(0,l.jsx)(u.Z,{children:"No product found!"})]}):(0,l.jsx)(x.Z,{spacing:1,children:null==ei?void 0:ei.products.map((e,n)=>(0,l.jsx)(c.Z,{children:(0,l.jsx)(H.Z,{data:e})},n))}):""}),(0,l.jsx)(x.Z,{sx:{paddingY:es.spacing(5),marginTop:es.spacing(5)},justifyContent:"center",alignItems:"center",children:(0,l.jsx)(C.Z,{count:q,page:Y,onChange:ed,variant:"outlined",color:"primary",showFirstButton:!0,showLastButton:!0,size:el?"medium":"large"})})]})]})})})};var G=i(6175),B=i(9008),F=i.n(B);let W=e=>(0,l.jsxs)(c.Z,{children:[(0,l.jsxs)(F(),{children:[(0,l.jsx)("title",{children:"Loi Heng - Deals And Promotion"}),(0,l.jsx)("meta",{name:"description",content:"Loi Heng Deals And Promotion"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(D,{...e})]});W.getLayout=function(e){return(0,l.jsx)(G.Z,{children:e})};var M=!0,U=W},7032:function(e,n,i){"use strict";var t=i(8100),s=i(7860);let l=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=(0,t.ZP)(["".concat("https://api.loiheng.duckdns.org/api/","promotions?category_id=").concat(null==e?void 0:e.join(","),"&brand_id=").concat(null==n?void 0:n.join(","),"&limit=").concat(l,"&page=").concat(i,"&sort_by=").concat(a)],s.Z);return r};n.Z=l}},function(e){e.O(0,[9718,7635,945,1431,9980,5581,1890,6363,9774,2888,179],function(){return e(e.s=6496)}),_N_E=e.O()}]);